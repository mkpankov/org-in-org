* Emacs Org-Mode Cheat-sheet in Org-Mode
** Document structure
*** Headings and outlines

#+BEGIN_EXAMPLE

     * Top level headline

     ** Second level

     *** 3rd level
         some text

     *** 3rd level
         more text

     * Another top level headline

#+END_EXAMPLE

*** Visibility cycling

| ~<TAB>~   | Rotate sub-tree between Folded, Children, Subtree states             |
| ~S-<TAB>~ | Rotate the entire buffer between Overview, Contents, Show All states |

*** Motion

| ~C-c C-n~ | Next heading                     |
| ~C-c C-p~ | Previous heading                 |
| ~C-c C-f~ | Next heading same level          |
| ~C-c C-b~ | Previous heading same level      |
| ~C-c C-u~ | Backward to higher level heading |

*** Structure editing

| ~M-<RET>~            | Insert new heading with same level as current            |
| ~M-S-<RET>~          | Insert new TODO entry with same level as current heading |
| ~<TAB>~ in new entry | Cycle through reasonable levels                          |
| ~M-<left>/<right>~   | Promote/demote current heading by one level              |
| ~M-S-<left>/<right>~ | Promote/demote the current sub-tree by one level         |
| ~M-S-<up>/<down>~    | Move sub-tree up/down                                    |
| ~C-c C-w~            | Refile entry or region to a different location           |
| ~C-x n s/w~          | Narrow buffer to current subtree / widen it again        |

*** Sparse trees

| ~C-c /~   | Enter prompt of sparse tree creation command           |
| ~C-c / /~ | Create sparse tree by occurrence of regular expression |

*** Plain lists

*Remember* to start list item at second column or later, otherwise it will be
 treated as first-level heading!

 * Unordered lists :: use '~-~', '~+~' or '~*~' as bullets
 * Ordered lists :: use '~1.~' or '~1)~' as bullets
 * Description lists :: use ' ~::~ ' to separate the term from the description

| ~<TAB>~              | Fold list item                                                |
| ~M-<RET>~            | Insert new item at current level                              |
| ~M-S-<RET>~          | Insert a new item with a checkbox                             |
| ~M-S-<up>/<down>~    | Move the item including sub-items up/down                     |
| ~M-<left>/<right>~   | Decrease/increase the indentation of an item (w/o children)   |
| ~M-S-<left>/<right>~ | Decrease/increase the indentation of the item (with children) |
| ~C-c C-c~            | Toggle the checkbox; also make sure the list is consistent    |
| ~C-c -~              | Cycle the entire list level through different bullets         |

*** Footnotes

#+BEGIN_EXAMPLE

The Org homepage[fn:1] now looks a lot better than it used to.
...
[fn:1] The link is: http://orgmode.org

#+END_EXAMPLE

| ~C-c C-x f~     | Jump to definition, first reference, or offer to create a new footnote |
| ~C-u C-c C-x f~ | A menu of additional footnotes options                                 |
| ~C-c &~         | Go back after jumping to definition
| ~C-c C-c~       | Jump between definition and reference (if unique)                      |

** Tables

#+BEGIN_EXAMPLE
| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
#+END_EXAMPLE

*** Creation and conversion

| ~C-c \vert~            | Convert the active region to table                              |
| ~\vert- <TAB>~         | Make a separator and move to next cell                          |
| ~\vert ... \vert<TAB>~ | Continue the table by taking the top row and extending it below |

*** Re-aligning and field motion

| ~C-c C-c~ | Re-align the table w/o moving the cursor      |
| ~<TAB>~   | Re-align the table and move to the next field |
| ~S-<TAB>~ | Re-align and move to the previous field       |
| ~<RET>~   | Re-align and move down to the next row        |

*** Column and row editing

| ~M-<left>/<right>~ | Move the current column left/right                                              |
| ~M-S-<left>~       | Kill the current column                                                         |
| ~M-S-<right>~      | Insert a new column to the left of cursor                                       |
| ~M-<up>/<down>~    | Move the current row up/down                                                    |
| ~M-S-<up>~         | Kill the current row or horizontal line                                         |
| ~M-S-<down>~       | Insert a new row above the current row                                          |
| ~C-c -~            | Insert a horizontal line below the current row                                  |
| ~C-c <RET>~        | Insert a horizontal line below the current row, and move to row below that line |
| ~C-c ^~            | Sort the table lines in the region                                              |

** Hyperlinks

*** Link format

: [[link][description]]

or, alternatively,

: [[link]]

*** Internal links

: [[#my-custom-id]]
links to the entry with ~CUSTOM_ID~ property '~my-custom-id~'.

: [[My Target]]
or
: [[My Target][Find my target]]
lead to a text search in the current file for the target '~<<My Target>>~'.

*** External links

#+BEGIN_EXAMPLE
     http://www.astro.uva.nl/~dominik          on the web
     file:/home/dominik/images/jupiter.jpg     file, absolute path
     /home/dominik/images/jupiter.jpg          same as above
     file:papers/last.pdf                      file, relative path
     file:projects.org                         another Org file
     docview:papers/last.pdf::NNN              open file in doc-view mode at page NNN
     id:B7423F4D-2E8A-471B-8810-C40F074717E9   Link to heading by ID
     news:comp.emacs                           Usenet link
     mailto:adent@galaxy.net                   Mail link
     vm:folder                                 VM folder link
     vm:folder#id                              VM message link
     wl:folder#id                              WANDERLUST message link
     mhe:folder#id                             MH-E message link
     rmail:folder#id                           RMAIL message link
     gnus:group#id                             Gnus article link
     bbdb:R.*Stallman                          BBDB link (with regexp)
     irc:/irc.com/#emacs/bob                   IRC link
     info:org:External%20links                 Info node link (with encoded space)
#+END_EXAMPLE

May contain descriptive text:
: [[http://www.gnu.org/software/emacs/][GNU Emacs]]

*** Handling links

| ~C-c l~   | Store a link to the current location |
| ~C-c C-l~ | Insert or edit a link                |
| ~C-c C-o~ | Open link at point                   |
| ~C-c &~   | Jump back to a recorded position     |

*** Targeted links

#+BEGIN_EXAMPLE
[[file:~/code/main.c::255]]                 Find line 255
[[file:~/xx.org::My Target]]                Find ‘<<My Target>>’
[[file:~/xx.org::#my-custom-id]]            Find entry with custom id
#+END_EXAMPLE

** Todo Items

*** Using TODO states

: *** TODO Write letter to Sam Fortune

| ~C-c C-t~          | Rotate the TODO state                         |
| ~S-<right>/<left>~ | Select the following/preceding TODO state     |
| ~C-c / t~          | View TODO items in a sparse tree              |
| ~C-c a t~          | Show the global TODO list                     |
| ~S-M-<RET>~        | Insert a new TODO entry below the current one |

*** Multi-state workflows

#+BEGIN_SRC emacs-lisp
(setq org-todo-keywords
  '((sequence "TODO" "FEEDBACK" "VERIFY" "|" "DONE" "DELEGATED")))
#+END_SRC
or
#+BEGIN_SRC emacs-lisp
(setq org-todo-keywords
      '((sequence "TODO(t)" "|" "DONE(d)")
        (sequence "REPORT(r)" "BUG(b)" "KNOWNCAUSE(k)" "|" "FIXED(f)")
        (sequence "|" "CANCELED(c)")))
#+END_SRC

TODO keywords for a single file:
#+BEGIN_EXAMPLE
#+TODO: TODO(t) | DONE(d)
#+TODO: REPORT(r) BUG(b) KNOWNCAUSE(k) | FIXED(f)
#+TODO: | CANCELED(c)
#+END_EXAMPLE

*** Logging progress

**** Closing items

: (setq org-log-done 'time)

or

: (setq org-log-done 'note)

In-buffer settings:

: #+STARTUP: logdone

or

: #+STARTUP: lognotedone

**** Tracking TODO state changes

In TODO states specification:

: #+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)

| ~!~ | timestamp |
| ~@~ | note      |

*** Priorities

: *** TODO [#A] Write letter to Sam Fortune

Org mode supports three priorities: '~A~', '~B~' and '~C~', '~A~' being
 the highest.

| ~C-c~ ~,~       | Set the priority of the current headline       |
| ~S-<up>/<down>~ | Increase/decrease priority of current headline |

*** Breaking down tasks

To break down a task headline, insert either '~[/]~' or '~[%]~' anywhere in
 the headline.

#+BEGIN_EXAMPLE
* Organize Party [33%]
** TODO Call people [1/2]
*** TODO Peter
*** DONE Sarah
** TODO Buy food
** DONE Talk to neighbor
#+END_EXAMPLE

| ~C-c C-c~ | Update the cookie with progress |

*** Check-boxes

To insert a check-box, type ~[ ]~ in beginning of a plain list item.

#+BEGIN_EXAMPLE
* TODO Organize party [1/3]
  - [-] call people [1/2]
    - [ ] Peter
    - [X] Sarah
  - [X] order food
  - [ ] think about what music to play
#+END_EXAMPLE

| ~C-c C-c~     | Toggle check-box status            |
| ~C-u C-c C-c~ | Toggle check-box presence          |
| ~M-S-<RET>~   | Insert a new item with a check-box |
